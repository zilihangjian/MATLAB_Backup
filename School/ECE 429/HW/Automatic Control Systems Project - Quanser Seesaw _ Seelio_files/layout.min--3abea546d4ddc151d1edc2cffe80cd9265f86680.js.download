!function e(t,n,s){function i(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return i(n?n:e)},u,u.exports,e,t,n,s)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)i(s[r]);return i}({"/opt/seelio/libs/configuratorClientSide.coffee":[function(e,t,n){var s,i,o,r,a,l,c,u;a=e("underscore"),("undefined"!=typeof window&&null!==window?window.process:void 0)&&a.extend(process.env,window.process.env),("undefined"!=typeof process&&null!==process&&null!=(l=process.env)?l.NODE_LOCALE:void 0)?(r=e(__dirname+("/../config/locales/"+process.env.NODE_LOCALE+".json")),r=r.domain):r="seelio.com",o="production"===("undefined"!=typeof process&&null!==process&&null!=(c=process.env)?c.NODE_CLIENTSIDE_CONFIG:void 0)?{segmentio:{apiKey:"0v406ljs1q"},server:{name:"https://"+r}}:"staging"===("undefined"!=typeof process&&null!==process&&null!=(u=process.env)?u.NODE_CLIENTSIDE_CONFIG:void 0)?{segmentio:{apiKey:"c6o4nrkud0"},server:{name:"https://stage."+r}}:{segmentio:{apiKey:"6hs1cde3g2"},server:{name:"https://localhost:3000/"}},s=o,s.googleDeveloperApiKey="AIzaSyBMO9ze5aBlsHXvjTRlDkWLA-Xrm0pFl20",i={get:function(e){var t,n,i,o,r;if(!e)return a.clone(s);for(i=e.split(":"),t=s,o=0,r=i.length;r>o;o++)n=i[o],t=t&&a.has(t,n)?t[n]:null;return t}},t.exports=i},{underscore:"underscore"}],"/opt/seelio/libs/googleAnalyticsDimensions.coffee":[function(e,t,n){t.exports={USER_GROUP:"dimension2",USER_UNIVERSITY:"dimension3",USER_USERTYPE:"dimension4",USER_ID:"dimension5",PAGE_UNIVERSITY_AFFILIATION:"dimension6",PAGE_SUPERGROUP_AFFILIATION:"dimension7",USER_UNIVERSITY_ID:"dimension8",PAGE_GROUP_AFFILIATION:"dimension9",withGAPrefix:function(e){return"ga:"+this[e]}}},{}],"/opt/seelio/libs/trackerUtils.coffee":[function(e,t,n){var s,i,o,r,a;a=e("underscore"),i=e("./configuratorClientSide"),o=e("moment"),r=n,s="* ",r.getUsertypeFromRoles=function(e){var t,n;return n=["recruiter","administrator","other","student"],t=a.find(n,function(t){return-1!==e.indexOf(t)}),t=t.charAt(0).toUpperCase()+t.slice(1),t||"Guest"},r.getWorkDataForAnalytics=function(e){var t,n,s,r,a,l;return t=e._work,null==t?{}:(n={"Edit Url":i.get("server:name").replace(/\/?$/,"/")+"edit/"+t._id,"View Url":t.full_url,Title:t.title,Description:t.description,"Last Updated":new Date(t.updatedAt),"Last Updated Formatted":o().format("MMMM Do YYYY")},null!=(null!=(s=t.cover)&&null!=(r=s.thumbs)?r.m:void 0)&&(n["Cover Url"]=null!=(a=t.cover)&&null!=(l=a.thumbs)?l.m:void 0),n)},r.getGroupDataForAnalytics=function(e){var t,n;return t=e._group,null==t?(console.log(new Error("Group with id "+e._group+" doesn't exist").stack),{}):n={Name:t.name,URL:t.url}},r.getEducationDataForAnalytics=function(e){var t,n,s;return t=a.find(e,function(e){return e.current}),t||(t=e[0]),null==t?{}:(null!=t.toObject&&(t=t.toObject()),n={"Current University":t.university,"Current University Id":null!=(s=t._university)?s.toString():void 0,"Current Degrees":a.map(t.degrees,function(e){return{Prefix:e.prefix,Field:e.field,School:e.school}}),"Grad Year":t.endYear})},r.getNamespacedProperties=function(e){var t;return t={},a.each(e,function(e,n){return t[s+n]=e}),t}},{"./configuratorClientSide":"/opt/seelio/libs/configuratorClientSide.coffee",moment:"/opt/seelio/node_modules/moment/moment.js",underscore:"underscore"}],"/opt/seelio/node_modules/async/lib/async.js":[function(e,t,n){!function(){function e(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(n,arguments)}}var n,s,i={};n=this,null!=n&&(s=n.async),i.noConflict=function(){return n.async=s,i};var o=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},r=function(e,t){if(e.map)return e.map(t);var n=[];return o(e,function(e,s,i){n.push(t(e,s,i))}),n},a=function(e,t,n){return e.reduce?e.reduce(t,n):(o(e,function(e,s,i){n=t(n,e,s,i)}),n)},l=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(i.nextTick=process.nextTick,"function"==typeof setImmediate?(setImmediateWrap=function(e){setImmediate(e)},i.setImmediate=setImmediateWrap):i.setImmediate=i.nextTick):"function"==typeof setImmediate?(i.nextTick=function(e){setImmediate(e)},i.setImmediate=i.nextTick):(i.nextTick=function(e){setTimeout(e,0)},i.setImmediate=i.nextTick),i.each=function(t,n,s){if(s=s||function(){},!t.length)return s();var i=0;o(t,function(o){n(o,e(function(e){e?(s(e),s=function(){}):(i+=1,i>=t.length&&s(null))}))})},i.forEach=i.each,i.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var s=0,i=function(){t(e[s],function(t){t?(n(t),n=function(){}):(s+=1,s>=e.length?n(null):i())})};i()},i.forEachSeries=i.eachSeries,i.eachLimit=function(e,t,n,s){var i=c(t);i.apply(null,[e,n,s])},i.forEachLimit=i.eachLimit;var c=function(e){return function(t,n,s){if(s=s||function(){},!t.length||0>=e)return s();var i=0,o=0,r=0;!function a(){if(i>=t.length)return s();for(;e>r&&o<t.length;)o+=1,r+=1,n(t[o-1],function(e){e?(s(e),s=function(){}):(i+=1,r-=1,i>=t.length?s():a())})}()}},u=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[i.each].concat(t))}},h=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},d=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[i.eachSeries].concat(t))}},p=function(e,t,n,s){var i=[];t=r(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,s){i[e.index]=s,t(n)})},function(e){s(e,i)})};i.map=u(p),i.mapSeries=d(p),i.mapLimit=function(e,t,n,s){return f(t)(e,n,s)};var f=function(e){return h(e,p)};i.reduce=function(e,t,n,s){i.eachSeries(e,function(e,s){n(t,e,function(e,n){t=n,s(e)})},function(e){s(e,t)})},i.inject=i.reduce,i.foldl=i.reduce,i.reduceRight=function(e,t,n,s){var o=r(e,function(e){return e}).reverse();i.reduce(o,t,n,s)},i.foldr=i.reduceRight;var m=function(e,t,n,s){var i=[];t=r(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){s(r(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};i.filter=u(m),i.filterSeries=d(m),i.select=i.filter,i.selectSeries=i.filterSeries;var g=function(e,t,n,s){var i=[];t=r(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){s(r(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};i.reject=u(g),i.rejectSeries=d(g);var v=function(e,t,n,s){e(t,function(e,t){n(e,function(n){n?(s(e),s=function(){}):t()})},function(e){s()})};i.detect=u(v),i.detectSeries=d(v),i.some=function(e,t,n){i.each(e,function(e,s){t(e,function(e){e&&(n(!0),n=function(){}),s()})},function(e){n(!1)})},i.any=i.some,i.every=function(e,t,n){i.each(e,function(e,s){t(e,function(e){e||(n(!1),n=function(){}),s()})},function(e){n(!0)})},i.all=i.every,i.sortBy=function(e,t,n){i.map(e,function(e,n){t(e,function(t,s){t?n(t):n(null,{value:e,criteria:s})})},function(e,t){if(e)return n(e);var s=function(e,t){var n=e.criteria,s=t.criteria;return s>n?-1:n>s?1:0};n(null,r(t.sort(s),function(e){return e.value}))})},i.auto=function(e,t){t=t||function(){};var n=l(e);if(!n.length)return t(null);var s={},r=[],c=function(e){r.unshift(e)},u=function(e){for(var t=0;t<r.length;t+=1)if(r[t]===e)return void r.splice(t,1)},h=function(){o(r.slice(0),function(e){e()})};c(function(){l(s).length===n.length&&(t(null,s),t=function(){})}),o(n,function(n){var r=e[n]instanceof Function?[e[n]]:e[n],d=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var a={};o(l(s),function(e){a[e]=s[e]}),a[n]=r,t(e,a),t=function(){}}else s[n]=r,i.setImmediate(h)},p=r.slice(0,Math.abs(r.length-1))||[],f=function(){return a(p,function(e,t){return e&&s.hasOwnProperty(t)},!0)&&!s.hasOwnProperty(n)};if(f())r[r.length-1](d,s);else{var m=function(){f()&&(u(m),r[r.length-1](d,s))};c(m)}})},i.waterfall=function(e,t){if(t=t||function(){},e.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var s=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),r=e.next();r?o.push(s(r)):o.push(t),i.setImmediate(function(){e.apply(null,o)})}}};s(i.iterator(e))()};var y=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var s={};e.each(l(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),s[e]=i,n(t)})},function(e){n(e,s)})}};i.parallel=function(e,t){y({map:i.map,each:i.each},e,t)},i.parallelLimit=function(e,t,n){y({map:f(t),each:c(t)},e,n)},i.series=function(e,t){if(t=t||function(){},e.constructor===Array)i.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};i.eachSeries(l(e),function(t,s){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,s(e)})},function(e){t(e,n)})}},i.iterator=function(e){var t=function(n){var s=function(){return e.length&&e[n].apply(null,arguments),s.next()};return s.next=function(){return n<e.length-1?t(n+1):null},s};return t(0)},i.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var b=function(e,t,n,s){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){s(e,i)})};i.concat=u(b),i.concatSeries=d(b),i.whilst=function(e,t,n){e()?t(function(s){return s?n(s):void i.whilst(e,t,n)}):n()},i.doWhilst=function(e,t,n){e(function(s){return s?n(s):void(t()?i.doWhilst(e,t,n):n())})},i.until=function(e,t,n){e()?n():t(function(s){return s?n(s):void i.until(e,t,n)})},i.doUntil=function(e,t,n){e(function(s){return s?n(s):void(t()?n():i.doUntil(e,t,n))})},i.queue=function(t,n){function s(e,t,s,r){t.constructor!==Array&&(t=[t]),o(t,function(t){var o={data:t,callback:"function"==typeof r?r:null};s?e.tasks.unshift(o):e.tasks.push(o),e.saturated&&e.tasks.length===n&&e.saturated(),i.setImmediate(e.process)})}void 0===n&&(n=1);var r=0,a={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){s(a,e,!1,t)},unshift:function(e,t){s(a,e,!0,t)},process:function(){if(r<a.concurrency&&a.tasks.length){var n=a.tasks.shift();a.empty&&0===a.tasks.length&&a.empty(),r+=1;var s=function(){r-=1,n.callback&&n.callback.apply(n,arguments),a.drain&&a.tasks.length+r===0&&a.drain(),a.process()},i=e(s);t(n.data,i)}},length:function(){return a.tasks.length},running:function(){return r}};return a},i.cargo=function(e,t){var n=!1,s=[],a={tasks:s,payload:t,saturated:null,empty:null,drain:null,push:function(e,n){e.constructor!==Array&&(e=[e]),o(e,function(e){s.push({data:e,callback:"function"==typeof n?n:null}),a.saturated&&s.length===t&&a.saturated()}),i.setImmediate(a.process)},process:function l(){if(!n){if(0===s.length)return void(a.drain&&a.drain());var i="number"==typeof t?s.splice(0,t):s.splice(0),c=r(i,function(e){return e.data});a.empty&&a.empty(),n=!0,e(c,function(){n=!1;var e=arguments;o(i,function(t){t.callback&&t.callback.apply(null,e)}),l()})}},length:function(){return s.length},running:function(){return n}};return a};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&o(n,function(t){console[e](t)}))}]))}};i.log=w("log"),i.dir=w("dir"),i.memoize=function(e,t){var n={},s={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),r=t.apply(null,i);r in n?o.apply(null,n[r]):r in s?s[r].push(o):(s[r]=[o],e.apply(null,i.concat([function(){n[r]=arguments;var e=s[r];delete s[r];for(var t=0,i=e.length;i>t;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},i.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},i.times=function(e,t,n){for(var s=[],o=0;e>o;o++)s.push(o);return i.map(s,t,n)},i.timesSeries=function(e,t,n){for(var s=[],o=0;e>o;o++)s.push(o);return i.mapSeries(s,t,n)},i.compose=function(){var e=Array.prototype.reverse.call(arguments);return function(){var t=this,n=Array.prototype.slice.call(arguments),s=n.pop();i.reduce(e,n,function(e,n,s){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);s(e,t)}]))},function(e,n){s.apply(t,[e].concat(n))})}};var _=function(e,t){var n=function(){var n=this,s=Array.prototype.slice.call(arguments),i=s.pop();return e(t,function(e,t){e.apply(n,s.concat([t]))},i)};if(arguments.length>2){var s=Array.prototype.slice.call(arguments,2);return n.apply(this,s)}return n};i.applyEach=u(_),i.applyEachSeries=d(_),i.forever=function(e,t){function n(s){if(s){if(t)return t(s);throw s}e(n)}n()},"undefined"!=typeof define&&define.amd?define([],function(){return i}):"undefined"!=typeof t&&t.exports?t.exports=i:n.async=i}()},{}],"/opt/seelio/node_modules/browser-request/index.js":[function(e,t,n){!function(e,s){"function"==typeof define&&define.amd?define([],s):"object"==typeof n?t.exports=s():e.returnExports=s()}(this,function(){function e(i,o){if("function"!=typeof o)throw new Error("Bad callback given: "+o);if(!i)throw new Error("No options given");var a=i.onResponse;if(i="string"==typeof i?{uri:i}:JSON.parse(JSON.stringify(i)),i.onResponse=a,i.verbose&&(e.log=s()),i.url&&(i.uri=i.url,delete i.url),!i.uri&&""!==i.uri)throw new Error("options.uri is a required argument");if("string"!=typeof i.uri)throw new Error("options.uri must be a string");for(var l=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],c=0;c<l.length;c++)if(i[l[c]])throw new Error("options."+l[c]+" is not supported");if(i.callback=o,i.method=i.method||"GET",i.headers=i.headers||{},i.body=i.body||null,i.timeout=i.timeout||e.DEFAULT_TIMEOUT,i.headers.host)throw new Error("Options.headers.host is not supported");i.json&&(i.headers.accept=i.headers.accept||"application/json","GET"!==i.method&&(i.headers["content-type"]="application/json"),"boolean"!=typeof i.json?i.body=JSON.stringify(i.json):"string"!=typeof i.body&&(i.body=JSON.stringify(i.body)));var u=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")};if(i.qs){var h="string"==typeof i.qs?i.qs:u(i.qs);-1!==i.uri.indexOf("?")?i.uri=i.uri+"&"+h:i.uri=i.uri+"?"+h}var d=function(e){var t={};t.boundry="-------------------------------"+Math.floor(1e9*Math.random());var n=[];for(var s in e)e.hasOwnProperty(s)&&n.push("--"+t.boundry+'\nContent-Disposition: form-data; name="'+s+'"\n\n'+e[s]+"\n");return n.push("--"+t.boundry+"--"),t.body=n.join(""),t.length=t.body.length,t.type="multipart/form-data; boundary="+t.boundry,t};if(i.form){if("string"==typeof i.form)throw"form name unsupported";if("POST"===i.method){var p=(i.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(i.headers["content-type"]=p,p){case"application/x-www-form-urlencoded":i.body=u(i.form).replace(/%20/g,"+");break;case"multipart/form-data":var f=d(i.form);i.body=f.body,i.headers["content-type"]=f.type;break;default:throw new Error("unsupported encoding:"+p)}}}return i.onResponse=i.onResponse||n,i.onResponse===!0&&(i.onResponse=o,i.callback=n),!i.headers.authorization&&i.auth&&(i.headers.authorization="Basic "+r(i.auth.username+":"+i.auth.password)),t(i)}function t(t){function n(){h=!0;var n=new Error("ETIMEDOUT");return n.code="ETIMEDOUT",n.duration=t.timeout,e.log.error("Timeout",{id:u._id,milliseconds:t.timeout}),t.callback(n,u)}function s(n){if(h)return e.log.debug("Ignoring timed out state change",{state:u.readyState,id:u.id});if(e.log.debug("State change",{state:u.readyState,id:u.id,timed_out:h}),u.readyState===a.OPENED){e.log.debug("Request started",{id:u.id});for(var s in t.headers)u.setRequestHeader(s,t.headers[s])}else u.readyState===a.HEADERS_RECEIVED?i():u.readyState===a.LOADING?(i(),r()):u.readyState===a.DONE&&(i(),r(),l())}function i(){if(!m.response){if(m.response=!0,e.log.debug("Got response",{id:u.id,status:u.status}),clearTimeout(u.timeoutTimer),u.statusCode=u.status,d&&0==u.statusCode){var n=new Error("CORS request rejected: "+t.uri);return n.cors="rejected",m.loading=!0,m.end=!0,t.callback(n,u)}t.onResponse(null,u)}}function r(){m.loading||(m.loading=!0,e.log.debug("Response body loading",{id:u.id}))}function l(){if(!m.end){if(m.end=!0,e.log.debug("Request done",{id:u.id}),u.body=u.responseText,t.json)try{u.body=JSON.parse(u.responseText)}catch(n){return t.callback(n,u)}t.callback(null,u,u.body)}}var u=new a,h=!1,d=o(t.uri),p="withCredentials"in u;if(c+=1,u.seq_id=c,u.id=c+": "+t.method+" "+t.uri,u._id=u.id,d&&!p){var f=new Error("Browser does not support cross-origin request: "+t.uri);return f.cors="unsupported",t.callback(f,u)}u.timeoutTimer=setTimeout(n,t.timeout);var m={response:!1,loading:!1,end:!1};return u.onreadystatechange=s,u.open(t.method,t.uri,!0),d&&(u.withCredentials=!!t.withCredentials),u.send(t.body),u}function n(){}function s(){var e,t,s={},o=["trace","debug","info","warn","error"];for(t=0;t<o.length;t++)e=o[t],s[e]=n,"undefined"!=typeof console&&console&&console[e]&&(s[e]=i(console,e));return s}function i(e,t){function n(n,s){return"object"==typeof s&&(n+=" "+JSON.stringify(s)),e[t].call(e,n)}return n}function o(e){var t,n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{t=location.href}catch(s){t=document.createElement("a"),t.href="",t=t.href}var i=n.exec(t.toLowerCase())||[],o=n.exec(e.toLowerCase()),r=!(!o||o[1]==i[1]&&o[2]==i[2]&&(o[3]||("http:"===o[1]?80:443))==(i[3]||("http:"===i[1]?80:443)));return r}function r(e){var t,n,s,i,o,r,a,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,h=0,d="",p=[];if(!e)return e;do t=e.charCodeAt(u++),n=e.charCodeAt(u++),s=e.charCodeAt(u++),l=t<<16|n<<8|s,i=l>>18&63,o=l>>12&63,r=l>>6&63,a=63&l,p[h++]=c.charAt(i)+c.charAt(o)+c.charAt(r)+c.charAt(a);while(u<e.length);switch(d=p.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d}var a=XMLHttpRequest;if(!a)throw new Error("missing XMLHttpRequest");e.log={trace:n,debug:n,info:n,warn:n,error:n};var l=18e4,c=0;e.withCredentials=!1,e.DEFAULT_TIMEOUT=l,e.defaults=function(t,n){var s=function(e){var n=function(n,s){n="string"==typeof n?{uri:n}:JSON.parse(JSON.stringify(n));for(var i in t)void 0===n[i]&&(n[i]=t[i]);return e(n,s)};return n},i=s(e);return i.get=s(e.get),i.post=s(e.post),i.put=s(e.put),i.head=s(e.head),i};var u=["get","put","post","head"];return u.forEach(function(t){var n=t.toUpperCase(),s=t.toLowerCase();e[s]=function(t){"string"==typeof t?t={method:n,uri:t}:(t=JSON.parse(JSON.stringify(t)),t.method=n);var s=[t].concat(Array.prototype.slice.apply(arguments,[1]));return e.apply(this,s)}}),e.couch=function(t,s){function i(e,t,n){if(e)return s(e,t,n);if((t.statusCode<200||t.statusCode>299)&&n.error){e=new Error("CouchDB error: "+(n.error.reason||n.error.error));for(var i in n)e[i]=n[i];return s(e,t,n)}return s(e,t,n)}"string"==typeof t&&(t={uri:t}),t.json=!0,t.body&&(t.json=t.body),delete t.body,s=s||n;var o=e(t,i);return o},e})},{}],"/opt/seelio/node_modules/browserify/node_modules/events/events.js":[function(e,t,n){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,n,s,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(r(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),s=c.length,l=0;s>l;l++)c[l].apply(this,o);return!0},s.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?s.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},s.prototype.removeListener=function(e,t){var n,s,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,s=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=a;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},s.listenerCount=function(e,t){return e.listenerCount(t)}},{}],"/opt/seelio/node_modules/inherits/inherits_browser.js":[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],"/opt/seelio/node_modules/lib/form_data.coffee":[function(e,t,n){var s,i,o,r;s=e("jquery"),r=e("underscore"),o=function(e,t){var n,i,o;return"string"==typeof e&&(e=s(e)),n={},t=null!=t?t:{},o=function(e){var s,o,r,a,l,c,u;if(o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,"radio"!==e.type||e.checked){if(c=i(e),a=/(.*)\[\]$/.exec(e.name)){if(o=a[1],n[o]||(n[o]=[]),t.ignoreEmptyStrings&&""===c)return;return n[o].push(c)}if(/.*\[.*\]$/.test(e.name)){for(s=e.name.split(/\[|\]\[|\]/),s.pop(),o=s.shift(),u=n[o]=null!=n[o]?n[o]:""===s[0]||/^\d+$/.test(s[0])?[]:{},r=0;r<s.length-1;)l=s[r],""===l?(u.push(""===s[r+1]?[]:{}),u=u[u.length-1]):(u[l]=null!=u[l]?u[l]:""===s[r+1]||/^\d+$/.test(s[r+1])?[]:{},u=u[l]),r++;if(l=s[r],""===l){if(t.ignoreEmptyStrings&&""===c)return;return u[u.length]=c}if(t.ignoreEmptyStrings&&""===c)return;return u[l]=c}if(!t.ignoreEmptyStrings||""!==c)return n[e.name]=c}},i=function(e){var t;return t=void 0,t=s(e).hasClass("select2-offscreen")?Array.isArray(s(e).select2("data"))?r.map(s(e).select2("data"),function(e){return e.id}):null!=s(e).select2("data")?s(e).select2("data").id:"":"checkbox"===e.type?e.checked:s(e).val()},"string"!=typeof e&&null==e.nodeType||(e=s(e)),e.find("input[name]").each(function(){o(this)}),e.find("textarea[name]").each(function(){o(this)}),e.find("select[name]").each(function(){o(this)}),n},i={get:o},t.exports=i},{jquery:"jquery",underscore:"underscore"}],"/opt/seelio/node_modules/lib/jquery.resize.js":[function(e,t,n){!function(e,t,n){"$:nomunge";function s(){i=t[a](function(){o.each(function(){var t=e(this),n=t.width(),s=t.height(),i=e.data(this,c);n===i.w&&s===i.h||t.trigger(l,[i.w=n,i.h=s])}),s()},r[u])}var i,o=e([]),r=e.resize=e.extend(e.resize,{}),a="setTimeout",l="resize",c=l+"-special-event",u="delay",h="throttleWindow";r[u]=250,r[h]=!0,e.event.special[l]={setup:function(){if(!r[h]&&this[a])return!1;var t=e(this);o=o.add(t),e.data(this,c,{w:t.width(),h:t.height()}),1===o.length&&s()},teardown:function(){if(!r[h]&&this[a])return!1;var t=e(this);o=o.not(t),t.removeData(c),o.length||clearTimeout(i)},add:function(t){function s(t,s,o){var r=e(this),a=e.data(this);a.w=s!==n?s:r.width(),a.h=o!==n?o:r.height(),i.apply(this,arguments)}if(!r[h]&&this[a])return!1;var i;return e.isFunction(t)?(i=t,s):(i=t.handler,void(t.handler=s))}}}(jQuery,window)},{}],"/opt/seelio/node_modules/lib/kine-log.coffee":[function(e,t,n){var s,i,o,r,a,l,c;l=e("browser-request"),s="kine-events-cache",i=function(){return r.call(this),window.addEventListener("unload",c.bind(this)),window.addEventListener("pagehide",c.bind(this)),this},i.prototype.log=function(e){if(null==e.common.event_hierarchy)throw new Error("Event data requires event_hierarchy");return this.unloadHandlerCalled?o([e]):(this.events.push(e),this.flush())},i.prototype.flush=function(){var e,t,n=this;if(0!==this.events.length&&!this.flushing)return this.flushing=!0,e=this.events,this.events=[],t=JSON.stringify(e),l.post({url:"/kine",body:t,json:!0},function(t,s,i){return n.flushing=!1,t?console.error("Kine Log flush failed: "+t):null!=i.errors?(i.errors.forEach(function(t){return n.events.push(e[t])}),console.error("Kine Log flush partially failed.")):void 0})},r=function(){var e;return e=a(),this.events=null!=e?JSON.parse(e):[]},c=function(){this.unloadHandlerCalled||(this.unloadHandlerCalled=!0,o(this.events),delete this.events)},o=function(e){var t;return t=a(),null!=t&&(e=e.concat(JSON.parse(t))),window.localStorage.setItem(s,JSON.stringify(e))},a=function(){var e;return e=window.localStorage.getItem(s),window.localStorage.removeItem(s),e},t.exports=i},{"browser-request":"/opt/seelio/node_modules/browser-request/index.js"}],"/opt/seelio/node_modules/lib/lytic.coffee":[function(e,t,n){var s,i,o,r,a,l,c,u,h,d,p,f,m,g,v,y,b;h=e("../../libs/trackerUtils"),s=e("./kine-log"),f=e("underscore"),o=e("events"),a=e("inherits"),i=function(){return this},a(i,o.EventEmitter),u=new i,"undefined"!=typeof t&&null!==t&&null!=t.exports?(t.exports=u,window.lytic=u):window.lytic=u,r=function(){var e,t;if(null!=window.analytics)return window.analytics;for(window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(e){return function(){var t;return t=Array.prototype.slice.call(arguments),t.unshift(e),window.analytics.push(t),window.analytics}},e=0;e<window.analytics.methods.length;)t=window.analytics.methods[e],window.analytics[t]=window.analytics.factory(t),e++;return window.analytics.load=function(e){var t,n;return n=document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+e+"/analytics.min.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t)},window.analytics.SNIPPET_VERSION="2.0.8",window.analytics.load(u.apiKey),window.analytics},u["interface"]={},u.apiKey=e("../../libs/configuratorClientSide").get("segmentio:apiKey"),u.initialize=function(e){var t;return t=this,"function"==typeof Array.prototype.forEach?(this["interface"]=r(),this.kineLog=new s,l.apply(this),c.apply(this),this):void 0},l=function(){var e;return e=this,["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"].forEach(function(t){var n;return"on"===t?(n=e.on,e.on=function(e){return-1===["alias","group","identify","track","page","ready"].indexOf(e)?n.apply(this,arguments):this["interface"].on.apply(this["interface"],arguments)}):e[t]=function(){var e;return e=d(t,arguments),this["interface"][t].apply(this["interface"],e)}})},c=function(){var e;return e=this,e["interface"]._readied?void 0:this.on("ready",function(){return e["interface"]=window.analytics})},p={track:function(e){return e[1]=h.getNamespacedProperties(e[1]),e}},d=function(e,t){return null!=p[e]&&(t=p[e](t)),t},u.getGroupData=function(e){return f.map(e.groups,h.getGroupDataForAnalytics)},u.getEducationData=function(e){return h.getEducationDataForAnalytics(e.education)},u.identifyUser=function(e){var t;return t=this.getEducationData(e),this.identify(e._id.toString(),{email:e.email,name:e.fullName,firstName:e.firstName,lastName:e.lastName,username:e.username,created:new Date(e.createdAt),"User Type":h.getUsertypeFromRoles(e.roles),Groups:JSON.stringify(this.getGroupData(e)),"Current University":t["Current University"],"Current University Id":t["Current University Id"],"Current Degrees":JSON.stringify(t["Current Degrees"]),"Grad Year":t["Grad Year"]})},u.callPageFromGlobals=function(){var e=this;return this.pageCalled=!1,b.call(this),this.on("ready",function(){return m.apply(e)}),setTimeout(function(){return m.apply(e)},5e3)},m=function(){return this.pageCalled?void 0:(this.pageCalled=!0,this.emit("beforePage"),null!=window.pageCategory&&null!=window.pageName?this.page(window.pageCategory,window.pageName):null!=window.pageName?this.page(window.pageName):this.page(),this.emit("afterPage"))},b=function(){return this.kineLog.log({_e_type_:"PageViewEvent",common:{event_hierarchy:{client:"WEB",page:this.getKinePage(),action:"VIEW"}},url:window.location.href,screen_width:window.screen.width,screen_height:window.screen.height,window_inner_width:window.innerWidth,window_inner_height:window.innerHeight,referrer_url:document.referrer}),this.kineLog.flush()},u.trackClicks=function(){return y.call(this)},y=function(){var e=this;return document.addEventListener("click",function(t){return v(t)&&t.target&&null!=u.getKineElement(t.target)?e.kineLog.log({_e_type_:"ClickEvent",common:{event_hierarchy:{client:"WEB",page:e.getKinePage(),section:e.getKineSection(t.target),component:e.getKineComponent(t.target),element:e.getKineElement(t.target),action:"CLICK"}}}):void 0})},u.getKinePage=function(){var e,t,n;return e=(null!=(t=document.querySelectorAll("[data-kine-page]").item(0))?t.getAttribute("data-kine-page"):void 0)||(null!=(n=window.pageCategory)?n.toLowerCase().replace(" ","_","g"):void 0)},u.getKineSection=function(e){var t;return null!=(t=g(e,"data-kine-section"))?t.getAttribute("data-kine-section"):void 0},u.getKineComponent=function(e){var t;return null!=(t=g(e,"data-kine-component"))?t.getAttribute("data-kine-component"):void 0;
},u.getKineElement=function(e){var t;return null!=(t=g(e,"data-kine-element"))?t.getAttribute("data-kine-element"):void 0},g=function(e,t){if(null!=e&&null!=t)for(;null!=e&&e!==document;){if(null!=e.getAttribute(t))return e;e=e.parentNode}},v=function(e){return null!=e.which},u.initialize()},{"../../libs/configuratorClientSide":"/opt/seelio/libs/configuratorClientSide.coffee","../../libs/trackerUtils":"/opt/seelio/libs/trackerUtils.coffee","./kine-log":"/opt/seelio/node_modules/lib/kine-log.coffee",events:"/opt/seelio/node_modules/browserify/node_modules/events/events.js",inherits:"/opt/seelio/node_modules/inherits/inherits_browser.js",underscore:"underscore"}],"/opt/seelio/node_modules/lib/seelio-flash.coffee":[function(e,t,n){var s,i;i=e("noty"),s={error:function(e,t){var n;return n=7e3,(null!=t?t.persistent:void 0)&&(n=!1),null!=e?(e.match(/502 Bad Gateway/)&&(e="We're sorry but we're having problems processing your request. If the error persists, please contact us at support@seelio.com."),i({type:"error",text:e,dismissQueue:!0,timeout:n})):void 0},info:function(e,t){var n;return n=4e3,(null!=t?t.persistent:void 0)&&(n=!1),e?i({type:"information",text:e,dismissQueue:!0,timeout:n}):void 0},success:function(e,t){var n;return n=4e3,(null!=t?t.persistent:void 0)&&(n=!1),e?i({type:"success",text:e,dismissQueue:!0,timeout:n}):void 0}},t.exports=s},{noty:"noty"}],"/opt/seelio/node_modules/lib/seelio-session.coffee":[function(e,t,n){var s,i;s=e("jquery"),i={user:function(){var e,t;if(this.userData)return this.userData;if(t={},s("#seelio-session").length>0){t=s("#seelio-session").attr("value"),t=decodeURI(t);try{t=JSON.parse(t)}catch(n){e=n,console.error(e.message)}}return this.userData=t,this.userData},goToProfilePage:function(){return window.location.href="/"+this.user().username},getPref:function(e){var t,n;return n=this.user().prefs,null==n?null:(t=e.split("."),t.forEach(function(e){return n=n[e],null==n?null:void 0}),n)},setPrefs:function(e,t){var n;return n=JSON.stringify({prefs:e}),s.ajax({type:"PATCH",url:"/student/edit",data:n,headers:{"content-type":"application/json"},success:function(e,n,s){return null!=t?t(null,e):void 0},error:function(e,n,s){return flash.error("We couldn't update your preferences: "+e.responseText),null!=t?t(new Error(e.responseText)):void 0}})}},t.exports=i},{jquery:"jquery"}],"/opt/seelio/node_modules/lib/seelio-typeahead.coffee":[function(e,t,n){var s,i;s=e("jquery"),i=e("underscore"),function(e,t){var n;return n={TAB:9,ENTER:13,ESC:27,UP:38,DOWN:40},e.fn.typeahead=function(s){var i,o,r,a,l,c;return i=e(this),s=t.chain(i.data()).extend(s).defaults({method:"get",queryTerm:"query",minSize:3}).value(),r=t.uniqueId("typeahead"),i.after(e("<ul>").attr("id",r).addClass("typeahead-results").addClass("dropdown-menu").attr("data-toggle","dropdown").attr("role","menu")),o=e(this).next("ul.typeahead-results"),o.hide(),i.on("blur",function(t){return setTimeout(function(){return e(document.activeElement).hasClass("typeahead-result-item")?void 0:o.empty().hide()},10)}),i.on("keydown",function(t){switch(t.keyCode){case n.ESC:return t.preventDefault(),o.empty().hide();case n.DOWN:case n.TAB:return t.preventDefault(),o.find(".typeahead-result-item").first().focus();case n.ENTER:if(t.preventDefault(),s.allowAny)return l(e(t.currentTarget).val())}}),a=null,i.on("keyup",t.debounce(function(l){var u;return null!=a&&"function"==typeof a.abort&&a.abort(),l.keyCode===n.ESC?o.empty().hide():(u=e(l.currentTarget).val(),s.minSize&&u.length<s.minSize?o.empty().hide():a=e[s.method](""+s.path+"?"+s.queryTerm+"="+u,function(a){return"string"==typeof a&&(a=e.parseJSON(a)),t.isEmpty(a)?o.empty().hide():(o.empty().show(),t.each(a,function(n){var a,l;return a=t.uniqueId("typeahead-result-item"),l=s.field&&n[s.field]?n[s.field]:n,o.append(e("<li>").attr("role","presentation").attr("aria-labelledby",r).append(e("<a>").addClass("typeahead-result-item").attr("id",a).attr("role","menuitem").attr("tabindex",-1).attr("href",s.jump&&n[s.jump]?n[s.jump]:"#").attr("data-value",l).text(l))),i.trigger("ta.result",[a,n])}),o.find(".typeahead-result-item").one("click",function(e){return e.preventDefault(),c(e,s)}).on("blur",function(t){return setTimeout(function(){return e(document.activeElement).hasClass("typeahead-result-item")||e(document.activeElement).parents(".typeahead-result-item").length?void 0:o.empty().hide()},10)}).on("keydown",function(e){switch(e.keyCode){case n.ESC:return e.preventDefault(),o.empty().hide();case n.ENTER:return e.preventDefault(),c(e,s)}}))}))},200)),l=function(e){return o.empty().hide(),i.val(e).trigger("ta.select")},c=function(t,n){return n.jump&&"#"!==e(t.currentTarget).attr("href")?window.location.href=e(t.currentTarget).attr("href"):l(e(t.currentTarget).data("value"))}},e("input[data-toggle=typeahead]").typeahead()}(s,i)},{jquery:"jquery",underscore:"underscore"}],"/opt/seelio/node_modules/mixins/statics/topbar.coffee":[function(e,t,n){var s,i;s=e("backbone"),i=s.View.extend({events:{"click #top-bar-nav-collapse-button":"toggleNav"},initialize:function(){var e;return e=this,this.hackToAdjustPaddingIfNecessary(),$(window).on("resize",function(){return e.checkResize()})},toggleNav:function(e){return this.open?this.closeNav():this.openNav()},closeNav:function(e){return this.open=!1,this.$(".static-top-bar-nav").css("height",0)},openNav:function(e){var t;return this.open=!0,this.$(".static-top-bar-nav").css("height","auto"),t=this.$(".static-top-bar-nav").outerHeight(),this.$(".static-top-bar-nav").css("height",0),setTimeout(function(){return this.$(".static-top-bar-nav").css("height",t)},10)},checkResize:function(e){return $(window).width()>767&&this.open?this.closeNav():void 0},hackToAdjustPaddingIfNecessary:function(){return $("body#layout-bootstrap-3").length>0?$("body#layout-bootstrap-3").css("padding-top",this.$el.outerHeight()):void 0}}),t.exports=i},{backbone:"backbone"}],"/opt/seelio/node_modules/mixins/users/autocomplete_input.coffee":[function(e,t,n){var s,i,o,r,a;r=e("templates/users/autocomplete_input"),o=e("mixins/users/invite_modal"),s=e("backbone"),a=e("underscore"),e("select2"),i=s.View.extend({initialize:function(e){var t,n,s,i,o;for(n=this,this.$input=this.$("input"),null==e&&(e={}),o=["include","exclude","includeGroups","excludeGroups"],s=0,i=o.length;i>s;s++)t=o[s],null!=e[t]&&(this[t]=e[t]);return e.dropdownCssClass=e.dropdownCssClass||"",e.modal&&(e.dropdownCssClass+=" select2-modal"),this.multiple=!!e.multiple,this.$input.select2({ajax:{url:"/students/autocomplete",dataType:"json",data:function(e,s){var i,o,r,l;for(i={query:e,excludeSelf:!0},l=["include","exclude","includeGroups","excludeGroups"],o=0,r=l.length;r>o;o++)t=l[o],null!=n[t]&&(i[t]=a.result(n,t));return i},results:function(e,t){return{results:e}}},minimumInputLength:2,allowClear:!1,multiple:this.multiple,containerCssClass:e.containerCssClass,dropdownCssClass:e.dropdownCssClass,formatInputTooShort:function(e,t){return"Type the full name or email of an existing user..."},formatResult:function(e,t,n){var s,i,o;return s="<div class='user-autocomplete-input-select2-result'><div class='pull-left user-autocomplete-input-select2-profile'><img src='"+e.profilePhotoPath+"' /></div><strong>"+e.fullName+"</strong><br />",e.university="",(null!=(i=e.education)?i.length:void 0)>0?e.university=e.education[0].university:(null!=(o=e.degrees)?o.length:void 0)>0&&(e.university=e.degrees[0].university),s+="<span>"+e.university+"</span>",s+="</div>"},formatSelection:function(e,t){var s,i,o,r;return s="<img src='"+e.profilePhotoPath+"' class='user-autocomplete-input-select2-selection-profile pull-left' /><span class='user-autocomplete-input-select2-selection-name'>"+e.fullName+"</span>",n.multiple||(e.university="",(null!=(o=e.education)?o.length:void 0)>0?e.university=e.education[0].university:(null!=(r=e.degrees)?r.length:void 0)>0&&(e.university=e.degrees[0].university),i=e.university?"&nbsp;<span>("+e.university+")</span>":"",s+=i),s},initSelection:function(e,t){var s;return s=decodeURIComponent(e.val()),"[]"!==s?(n.$(".select2-choices").addClass("loading"),$.ajax({url:"/students/autocomplete",dataType:"json",data:{ids:JSON.parse(s)},success:function(){return n.$(".select2-choices").removeClass("loading"),t.apply(this,arguments)}})):void 0}},this.$input.on("change",function(t){return e.multiple?n.trigger("change",t):(null!=(null!=t?t.added:void 0)&&n.trigger("select",t),n.clear())})),e.modal&&(this.$input.on("select2-open",function(e){return $("#select2-drop-mask").addClass("select2-modal")}),this.$input.on("select2-close",function(e){return $("#select2-drop-mask").removeClass("select2-modal")})),e.invite?this.addInviteOption():void 0},addInviteOption:function(){var e;return e=this,this.$input.on("select2-open",function(t){var n;return n=this,$(".select2-drop-active").each(function(){return 0===$(this).find(".select2-invite").length?($(this).append('<div class="select2-invite"><a href="#user-invite-modal" data-toggle="modal" class="btn btn-block btn-default">Not here? Invite them!</a></div>'),$(this).find(".select2-invite > a").off("click.UserAutocompleteInput"),$(this).find(".select2-invite > a").on("click.UserAutocompleteInput",function(){return $(n).select2("close"),e.userInviteModal=new o({el:"body"}),e.listenTo(e.userInviteModal,"invite",function(t){return e.trigger("invite",t)})})):void 0})})},clear:function(){return this.$input.select2("val","")}}),t.exports=i},{backbone:"backbone","mixins/users/invite_modal":"/opt/seelio/node_modules/mixins/users/invite_modal.coffee",select2:"/opt/seelio/node_modules/select2/index.js","templates/users/autocomplete_input":"/opt/seelio/node_modules/templates/users/autocomplete_input.js",underscore:"underscore"}],"/opt/seelio/node_modules/mixins/users/invite_modal.coffee":[function(e,t,n){var s,i,o;o=e("templates/users/invite_modal"),s=e("backbone"),i=s.View.extend({events:{"submit form":"submitHandler","click .user-invite-add-another":"addAnotherInput"},initialize:function(e){return this.render()},render:function(){return $("#user-invite-modal").length>0?this.$modal=$("#user-invite-modal"):(this.$el.append(o()),this.$modal=this.$("#user-invite-modal")),this.$modal.modal()},addAnotherInput:function(e){return e.preventDefault(),this.$(e.currentTarget).before("<input type='email' placeholder='email@example.com' class='form-control' />")},submitHandler:function(e){var t,n;return n=this,e.preventDefault(),t=[],this.$("#user-invite-modal input[type=email]").each(function(){return $(this).val()?(t.push($(this).val()),$(this).val("")):void 0}),n.trigger("invite",t)}}),t.exports=i},{backbone:"backbone","templates/users/invite_modal":"/opt/seelio/node_modules/templates/users/invite_modal.js"}],"/opt/seelio/node_modules/mixins/users/message_composer.coffee":[function(e,t,n){var s,i,o,r,a,l,c;s=e("backbone"),r=e("mixins/users/autocomplete_input"),c=e("templates/users/message_composer"),l=e("lib/form_data"),e("lib/jquery.resize"),a=e("lib/seelio-flash"),i=s.View.extend({events:{"submit .message-composer-form":"submitHandler"},initialize:function(e){var t;return null==e&&(e={}),t=this,e.render===!0&&this.render(e),this.$(".message-composer-message-body-container").on("resize",function(){return t.bodyResizeHandler()}),this.submitButtonEl=e.submitButtonEl||this.$(".message-composer-submit"),this.submitButtonEl.on("click",function(){return t.submit()}),null!=e._group?this.render(e):(this.initRecaptcha(),this.usersAutocomplete=new r({el:this.$(".message-composer-to"),multiple:!0,containerCssClass:"input combined-input-dotted",modal:e.modal,include:e.include,exclude:e.exclude,includeGroups:e.includeGroups,excludeGroups:e.excludeGroups}),this.listenTo(this.usersAutocomplete,"change",function(e){return 0===t.getRecipients().length?t.disableSubmit():t.enableSubmit()}),this.attachmentViews=[],this.$(".message-composer-attachments").length>0?this.$(".message-composer-attachments").each(function(e,n){return t.addAttachmentView({el:this})}):void 0)},render:function(e){return this.$el.html(c({options:e})),this.initRecaptcha()},initRecaptcha:function(){return this.recaptchaId=grecaptcha.render(this.$el.find("#message-composer-recaptcha")[0],{sitekey:"6LdF8A4TAAAAAPVfFmjWYL-__In_VgvsEhyxMGLr"})},addAttachmentView:function(e){var t,n;return n=this,t=new o({el:".message-composer-attachments-li-work"}),this.attachmentViews.push(t),this.listenTo(t,"remove",function(){return n.attachmentViews.splice(n.attachmentViews.indexOf(t),1),n.adjustTextareaToFitWithOtherContent()})},submitHandler:function(e){var t;return t=this,e.preventDefault(),this.submit()},submit:function(){var e;return e=this,this.disableSubmit(),this.sendMessage(function(){return e.clearForm()})},bodyResizeHandler:function(e){return this.adjustTextareaToFitWithOtherContent()},adjustTextareaToFitWithOtherContent:function(){var e,t,n;return e=this.$(".message-composer-message-body-container"),t=e.children("textarea"),n=0,e.children(":not(textarea)").each(function(e,t){return n+=$(this).outerHeight(!0)}),t.height(e.height()-n)},getRecipients:function(){return this.usersAutocomplete.$input.select2("data")},disableSubmit:function(){return this.submitButtonEl.prop("disabled",!0)},enableSubmit:function(){return this.submitButtonEl.prop("disabled",!1)},sendMessage:function(e){var t,n,s,i;return s=this,t=l.get(this.$("form")),(null!=(i=t.recipients)?i.length:void 0)>0?(""===t.subject&&(confirm("Send this message with no subject?")||s.enableSubmit(),delete t.subject),n=grecaptcha.getResponse(this.recaptchaId),t["g-recaptcha-response"]=n,$.ajax({type:"POST",url:"/conversations",data:t,beforeSend:function(e,t){return s.trigger("messagesend")},success:function(n,i,o){return a.success("Message successfully sent"),s.trigger("messagesent",t),s.enableSubmit(),e()},error:function(e,t,n){return s.trigger("messagefail"),a.error("Error sending message: "+e.responseText),s.enableSubmit()},complete:function(e,t){return s.trigger("messagecomplete"),s.enableSubmit()}})):(a.error("Please specify at least one recipient."),void s.enableSubmit())},clearForm:function(){return null!=this.usersAutocomplete&&this.usersAutocomplete.clear(),this.$("form")[0].reset(),grecaptcha.reset(this.recaptchaId)}}),o=s.View.extend({events:{"click .close":"closeHandler"},initialize:function(e){},render:function(e){},closeHandler:function(){return this.remove()}}),t.exports=i},{backbone:"backbone","lib/form_data":"/opt/seelio/node_modules/lib/form_data.coffee","lib/jquery.resize":"/opt/seelio/node_modules/lib/jquery.resize.js","lib/seelio-flash":"/opt/seelio/node_modules/lib/seelio-flash.coffee","mixins/users/autocomplete_input":"/opt/seelio/node_modules/mixins/users/autocomplete_input.coffee","templates/users/message_composer":"/opt/seelio/node_modules/templates/users/message_composer.js"}],"/opt/seelio/node_modules/mixins/users/message_composer_modal.coffee":[function(e,t,n){var s,i,o,r,a,l,c;s=e("backbone"),i=e("mixins/users/message_composer"),l=e("templates/users/message_composer_modal"),c=e("underscore"),a=e("lib/seelio-flash"),r=e("async"),o=s.View.extend({initialize:function(e){var t;return t=this,null!=(null!=e?e.work:void 0)&&(this.work=e.work),null!=(null!=e?e._work:void 0)?this._work=e._work:void 0},retrieveWork:function(e,t){var n;return n=this,$("body").addClass("loading"),$.get("/work/"+e._work,function(s){return n.work=e.work=s,$("body").removeClass("loading"),t(null,e)}).fail(function(){return t(new Error("We were unable to attach the work to the message. Please refresh and try again."))})},render:function(e,t){var n;return n=this,e=e||{},r.waterfall([function(t){return e._work?n.retrieveWork(e,t):t(null,e)}],function(e,s){var o;return(null!=e?e.message:void 0)?a.error(e.message):(n.work&&(o=n.work.attributes||n.work),n.model&&(o=n.model.attributes),null!=o&&(s.attachments=[{object:o,type:"work",removable:!1}]),n.$el.html(l({options:s})),$("body").append(n.el),n.messageComposer=new i({el:n.$(".message-composer-modal-main"),to:s.to,work:s.work,_work:s._work,_group:s._group,groupName:s.groupName,modal:!0,submitButtonEl:n.$(".message-composer-modal-send")}),t&&t(),n.listenTo(n.messageComposer,"messagesent",function(e){return n.hide(),n.trigger("messageSent")}))})},show:function(e){var t;return t=this,this.render(null!=e?e.options:void 0,function(){return t.$(".modal").modal("show")})},hide:function(){return this.$(".modal").modal("hide")}}),t.exports=o},{async:"/opt/seelio/node_modules/async/lib/async.js",backbone:"backbone","lib/seelio-flash":"/opt/seelio/node_modules/lib/seelio-flash.coffee","mixins/users/message_composer":"/opt/seelio/node_modules/mixins/users/message_composer.coffee","templates/users/message_composer_modal":"/opt/seelio/node_modules/templates/users/message_composer_modal.js",underscore:"underscore"}],"/opt/seelio/node_modules/moment/moment.js":[function(e,t,n){(function(n){function s(e,t){return function(n){return u(e.call(this,n),t)}}function i(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function o(){}function r(e){l(this,e)}function a(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,s=e.weeks||e.week||e.w||0,i=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,r=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,l=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=l+1e3*a+6e4*r+36e5*o,this._days=i+7*s,this._months=n+12*t,this._data={},this._bubble()}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function h(e,t,n,s){var i,o,r=t._milliseconds,a=t._days,l=t._months;r&&e._d.setTime(+e._d+r*n),(a||l)&&(i=e.minute(),o=e.hour()),a&&e.date(e.date()+a*n),l&&e.month(e.month()+l*n),r&&!s&&N.updateOffset(e),(a||l)&&(e.minute(i),e.hour(o))}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function p(e,t){var n,s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(n=0;s>n;n++)~~e[n]!==~~t[n]&&o++;return o+i}function f(e){return e?re[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function m(e,t){return t.abbr=e,$[e]||($[e]=new o),$[e].set(t),$[e]}function g(t){if(!t)return N.fn._lang;if(!$[t]&&Y)try{e("./lang/"+t)}catch(n){return N.fn._lang}return $[t]}function v(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function y(e){var t,n,s=e.match(H);for(t=0,n=s.length;n>t;t++)ue[s[t]]?s[t]=ue[s[t]]:s[t]=v(s[t]);return function(i){var o="";for(t=0;n>t;t++)o+=s[t]instanceof Function?s[t].call(i,e):s[t];return o}}function b(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var s=5;s--&&W.test(t);)t=t.replace(W,n);return ae[t]||(ae[t]=y(t)),ae[t](e)}function w(e,t){switch(e){case"DDDD":return V;case"YYYY":return K;case"YYYYY":return B;case"S":case"SS":case"SSS":case"DDD":return q;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return J;case"a":case"A":return g(t._l)._meridiemParse;case"X":return X;case"Z":case"ZZ":return Z;case"T":return Q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return G;default:return new RegExp(e.replace("\\",""))}}function _(e){var t=(Z.exec(e)||[])[0],n=(t+"").match(se)||["-",0,0],s=+(60*n[1])+~~n[2];return"+"===n[0]?-s:s}function C(e,t,n){var s,i=n._a;switch(e){case"M":case"MM":i[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":s=g(n._l).monthsParse(t),null!=s?i[1]=s:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(i[2]=~~t);break;case"YY":i[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~t;break;case"a":case"A":n._isPm=g(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[3]=~~t;break;case"m":case"mm":i[4]=~~t;break;case"s":case"ss":i[5]=~~t;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=_(t)}null==t&&(n._isValid=!1)}function S(e){var t,n,s=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];s[3]+=~~((e._tzm||0)/60),s[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(s[0],s[1],s[2]),n.setUTCHours(s[3],s[4],s[5],s[6])):(n.setFullYear(s[0],s[1],s[2]),n.setHours(s[3],s[4],s[5],s[6])),e._d=n}}function k(e){var t,n,s=e._f.match(H),i=e._i;for(e._a=[],t=0;t<s.length;t++)n=(w(s[t],e).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),ue[s[t]]&&C(s[t],n,e);i&&(e._il=i),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),S(e)}function x(e){var t,n,s,i,o,a=99;for(i=0;i<e._f.length;i++)t=l({},e),t._f=e._f[i],k(t),n=new r(t),o=p(t._a,n.toArray()),n._il&&(o+=n._il.length),a>o&&(a=o,s=n);l(e,s)}function E(e){var t,n=e._i,s=ee.exec(n);if(s){for(e._f="YYYY-MM-DD"+(s[2]||" "),t=0;4>t;t++)if(ne[t][1].exec(n)){e._f+=ne[t][0];break}Z.exec(n)&&(e._f+=" Z"),k(e)}else e._d=new Date(n)}function T(e){var t=e._i,s=F.exec(t);t===n?e._d=new Date:s?e._d=new Date(+s[1]):"string"==typeof t?E(e):d(t)?(e._a=t.slice(0),S(e)):e._d=t instanceof Date?new Date(+t):new Date(t)}function O(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function D(e,t,n){var s=R(Math.abs(e)/1e3),i=R(s/60),o=R(i/60),r=R(o/24),a=R(r/365),l=45>s&&["s",s]||1===i&&["m"]||45>i&&["mm",i]||1===o&&["h"]||22>o&&["hh",o]||1===r&&["d"]||25>=r&&["dd",r]||45>=r&&["M"]||345>r&&["MM",R(r/30)]||1===a&&["y"]||["yy",a];return l[2]=t,l[3]=e>0,l[4]=n,O.apply({},l)}function M(e,t,n){var s,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),s=N(e).add("d",o),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function A(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=g().preparse(t)),N.isMoment(t)?(e=l({},t),e._d=new Date(+t._d)):n?d(n)?x(e):k(e):T(e),new r(e))}function I(e,t){N.fn[e]=N.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),N.updateOffset(this),this):this._d["get"+n+t]()}}function P(e){N.duration.fn[e]=function(){return this._data[e]}}function j(e,t){N.duration.fn["as"+e]=function(){return+this/t}}for(var N,L,U="2.1.0",R=Math.round,$={},Y="undefined"!=typeof t&&t.exports,F=/^\/?Date\((\-?\d+)/i,z=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,H=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,G=/\d\d?/,q=/\d{1,3}/,V=/\d{3}/,K=/\d{1,4}/,B=/[+\-]?\d{1,6}/,J=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Z=/Z|[\+\-]\d\d:?\d\d/i,Q=/T/i,X=/[\+\-]?\d+(\.\d{1,3})?/,ee=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,te="YYYY-MM-DDTHH:mm:ssZ",ne=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],se=/([\+\-]|\d\d)/gi,ie="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),oe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},re={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},ae={},le="DDD w W M D d".split(" "),ce="M D H h m s w W".split(" "),ue={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(e/60),2)+":"+u(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};le.length;)L=le.pop(),ue[L+"o"]=i(ue[L],L);for(;ce.length;)L=ce.pop(),ue[L+L]=s(ue[L],2);for(ue.DDDD=s(ue.DDD,3),o.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,s;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=N([2e3,t]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(s.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=N([2e3,1]).day(t),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,s){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,s):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return M(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},N=function(e,t,n){return A({_i:e,_f:t,_l:n,_isUTC:!1})},N.utc=function(e,t,n){return A({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},N.unix=function(e){return N(1e3*e)},N.duration=function(e,t){var n,s,i=N.isDuration(e),o="number"==typeof e,r=i?e._input:o?{}:e,l=z.exec(e);return o?t?r[t]=e:r.milliseconds=e:l&&(n="-"===l[1]?-1:1,r={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),s=new a(r),i&&e.hasOwnProperty("_lang")&&(s._lang=e._lang),s},N.version=U,N.defaultFormat=te,N.updateOffset=function(){},N.lang=function(e,t){return e?(t?m(e,t):$[e]||g(e),void(N.duration.fn._lang=N.fn._lang=g(e))):N.fn._lang._abbr},N.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),g(e)},N.isMoment=function(e){return e instanceof r},N.isDuration=function(e){return e instanceof a},N.fn=r.prototype={clone:function(){return N(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return b(N(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!p(this._a,(this._isUTC?N.utc(this._a):N(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=b(this,e||N.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?N.duration(+t,e):N.duration(e,t),h(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?N.duration(+t,e):N.duration(e,t),h(this,n,-1),this},diff:function(e,t,n){var s,i,o=this._isUTC?N(e).zone(this._offset||0):N(e).local(),r=6e4*(this.zone()-o.zone());return t=f(t),"year"===t||"month"===t?(s=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),i+=(this-N(this).startOf("month")-(o-N(o).startOf("month")))/s,i-=6e4*(this.zone()-N(this).startOf("month").zone()-(o.zone()-N(o).startOf("month").zone()))/s,"year"===t&&(i/=12)):(s=this-o,i="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-r)/864e5:"week"===t?(s-r)/6048e5:s),n?i:c(i)},from:function(e,t){return N.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(N(),e)},calendar:function(){var e=this.diff(N().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),N.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=f(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+N(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+N(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+N(e).startOf(t)},min:function(e){return e=N.apply(null,arguments),this>e?this:e},max:function(e){return e=N.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=_(e)),
Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&h(this,N.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return N.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=R((N(this).startOf("day")-N(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=M(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=M(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=M(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},lang:function(e){return e===n?this._lang:(this._lang=g(e),this)}},L=0;L<ie.length;L++)I(ie[L].toLowerCase().replace(/s$/,""),ie[L]);I("year","FullYear"),N.fn.days=N.fn.day,N.fn.months=N.fn.month,N.fn.weeks=N.fn.week,N.fn.isoWeeks=N.fn.isoWeek,N.fn.toJSON=N.fn.toISOString,N.duration.fn=a.prototype={_bubble:function(){var e,t,n,s,i=this._milliseconds,o=this._days,r=this._months,a=this._data;a.milliseconds=i%1e3,e=c(i/1e3),a.seconds=e%60,t=c(e/60),a.minutes=t%60,n=c(t/60),a.hours=n%24,o+=c(n/24),a.days=o%30,r+=c(o/30),a.months=r%12,s=c(r/12),a.years=s},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=D(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=N.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=N.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=f(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=f(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:N.fn.lang};for(L in oe)oe.hasOwnProperty(L)&&(j(L,oe[L]),P(L.toLowerCase()));j("Weeks",6048e5),N.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},N.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Y&&(t.exports=N),"undefined"==typeof ender&&(this.moment=N),"function"==typeof define&&define.amd&&define("moment",[],function(){return N})}).call(this)},{}],"/opt/seelio/node_modules/select2/index.js":[function(e,t,n){$=jQuery=e("jquery"),t.exports=e("./select2.js")},{"./select2.js":"/opt/seelio/node_modules/select2/select2.js",jquery:"jquery"}],"/opt/seelio/node_modules/select2/select2.js":[function(e,t,n){!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),s=-1,i=this.length;++s<i&&(n.context=n[0]=this[s])&&t.call(n[0],s,n)!==!1;);return this}})}(jQuery),function(e,n){"use strict";function s(e){var t,n,s,i;if(!e||e.length<1)return e;for(t="",n=0,s=e.length;s>n;n++)i=e.charAt(n),t+=Y[i]||i;return t}function i(e,t){for(var n=0,s=t.length;s>n;n+=1)if(r(e,t[n]))return n;return-1}function o(){var t=e($);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function r(e,t){return e===t?!0:e===n||t===n?!1:null===e||null===t?!1:e.constructor===String?e+""==t+"":t.constructor===String?t+""==e+"":!1}function a(t,n){var s,i,o;if(null===t||t.length<1)return[];for(s=t.split(n),i=0,o=s.length;o>i;i+=1)s[i]=e.trim(s[i]);return s}function l(e){return e.outerWidth(!1)-e.width()}function c(t){var s="keyup-change-value";t.on("keydown",function(){e.data(t,s)===n&&e.data(t,s,t.val())}),t.on("keyup",function(){var i=e.data(t,s);i!==n&&t.val()!==i&&(e.removeData(t,s),t.trigger("keyup-change"))})}function u(t){t.on("mousemove",function(t){var s=R;s!==n&&s.x===t.pageX&&s.y===t.pageY||e(t.target).trigger("mousemove-filtered",t)})}function h(e,t,s){s=s||n;var i;return function(){var n=arguments;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(s,n)},e)}}function d(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function p(e,t){var n=h(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],s=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(s,s):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function m(t){t=e(t)[0];var n=0,s=0;if("selectionStart"in t)n=t.selectionStart,s=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();s=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-s}return{offset:n,length:s}}function g(e){e.preventDefault(),e.stopPropagation()}function v(e){e.preventDefault(),e.stopImmediatePropagation()}function y(t){if(!N){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);N=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),N.attr("class","select2-sizer"),e("body").append(N)}return N.text(t.val()),N.width()}function b(t,n,s){var i,o,r=[];i=t.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),i=n.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=s(this),o&&r.push(o))})),t.attr("class",r.join(" "))}function w(e,t,n,i){var o=s(e.toUpperCase()).indexOf(s(t.toUpperCase())),r=t.length;return 0>o?void n.push(i(e)):(n.push(i(e.substring(0,o))),n.push("<span class='select2-match'>"),n.push(i(e.substring(o,o+r))),n.push("</span>"),void n.push(i(e.substring(o+r,e.length))))}function _(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function C(t){var s,i=null,o=t.quietMillis||100,r=t.url,a=this;return function(l){window.clearTimeout(s),s=window.setTimeout(function(){var s=t.data,o=r,c=t.transport||e.fn.select2.ajaxDefaults.transport,u={type:t.type||"GET",cache:t.cache||!1,jsonpCallback:t.jsonpCallback||n,dataType:t.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,u);s=s?s.call(a,l.term,l.page,l.context):null,o="function"==typeof o?o.call(a,l.term,l.page,l.context):o,i&&i.abort(),t.params&&(e.isFunction(t.params)?e.extend(h,t.params.call(a)):e.extend(h,t.params)),e.extend(h,{url:o,dataType:t.dataType,data:s,success:function(e){var n=t.results(e,l.page);l.callback(n)}}),i=c.call(a,h)},o)}}function S(t){var n,s,i=t,o=function(e){return""+e.text};e.isArray(i)&&(s=i,i={results:s}),e.isFunction(i)===!1&&(s=i,i=function(){return s});var r=i();return r.text&&(o=r.text,e.isFunction(o)||(n=r.text,o=function(e){return e[n]})),function(t){var n,s=t.term,r={results:[]};return""===s?void t.callback(i()):(n=function(i,r){var a,l;if(i=i[0],i.children){a={};for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);a.children=[],e(i.children).each2(function(e,t){n(t,a.children)}),(a.children.length||t.matcher(s,o(a),i))&&r.push(a)}else t.matcher(s,o(i),i)&&r.push(i)},e(i().results).each2(function(e,t){n(t,r.results)}),void t.callback(r))}}function k(t){var s=e.isFunction(t);return function(i){var o=i.term,r={results:[]};e(s?t():t).each(function(){var e=this.text!==n,t=e?this.text:this;(""===o||i.matcher(o,t))&&r.results.push(e?this:{id:this,text:this})}),i.callback(r)}}function x(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function E(t){return e.isFunction(t)?t():t}function T(t){var n=0;return e.each(t,function(e,t){t.children?n+=T(t.children):n++}),n}function O(e,t,s,i){var o,a,l,c,u,h=e,d=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return n;for(;;){for(a=-1,l=0,c=i.tokenSeparators.length;c>l&&(u=i.tokenSeparators[l],a=e.indexOf(u),!(a>=0));l++);if(0>a)break;if(o=e.substring(0,a),e=e.substring(a+u.length),o.length>0&&(o=i.createSearchChoice.call(this,o,t),o!==n&&null!==o&&i.id(o)!==n&&null!==i.id(o))){for(d=!1,l=0,c=t.length;c>l;l++)if(r(i.id(o),i.id(t[l]))){d=!0;break}d||s(o)}}return h!==e?e:void 0}function D(t,n){var s=function(){};return s.prototype=new t,s.prototype.constructor=s,s.prototype.parent=t.prototype,s.prototype=e.extend(s.prototype,n),s}if(window.Select2===n){var M,A,I,P,j,N,L,U,R={x:0,y:0},M={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case M.LEFT:case M.RIGHT:case M.UP:case M.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case M.SHIFT:case M.CTRL:case M.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},$="<div class='select2-measure-scrollbar'></div>",Y={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};L=e(document),j=function(){var e=1;return function(){return e++}}(),L.on("mousemove",function(e){R.x=e.pageX,R.y=e.pageY}),A=D(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(t){var s,i,r=".select2-results";this.opts=t=this.prepareOpts(t),this.id=t.id,t.element.data("select2")!==n&&null!==t.element.data("select2")&&t.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(t.element.attr("id")||"autogen"+j()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d(function(){return t.element.closest("body")}),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",t.element.attr("style")),this.container.css(E(t.containerCss)),this.container.addClass(E(t.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(t.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=s=this.container.find(r),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),u(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",r,this.bind(this.highlightUnderEvent)),p(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&s.mousewheel(function(e,t,n,i){var o=s.scrollTop();i>0&&0>=o-i?(s.scrollTop(0),g(e)):0>i&&s.get(0).scrollHeight-s.scrollTop()+i<=s.height()&&(s.scrollTop(s.get(0).scrollHeight-s.height()),g(e))}),c(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",r,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==t.maximumInputLength&&this.search.attr("maxlength",t.maximumInputLength);var a=t.element.prop("disabled");a===n&&(a=!1),this.enable(!a);var l=t.element.prop("readonly");l===n&&(l=!1),this.readonly(l),U=U||o(),this.autofocus=t.element.prop("autofocus"),t.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=n},destroy:function(){var e=this.opts.element,t=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==n&&(t.container.remove(),t.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")||r(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(t){var s,i,o,l,c=this;if(s=t.element,"select"===s.get(0).tagName.toLowerCase()&&(this.select=i=t.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in t)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),t=e.extend({},{populateResults:function(s,i,o){var r,a=this.opts.id;(r=function(s,i,l){var u,h,d,p,f,m,g,v,y,b;for(s=t.sortResults(s,i,o),u=0,h=s.length;h>u;u+=1)d=s[u],f=d.disabled===!0,p=!f&&a(d)!==n,m=d.children&&d.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(d)),g.attr("role","presentation"),v=e(document.createElement("div")),v.addClass("select2-result-label"),v.attr("id","select2-result-label-"+j()),v.attr("role","option"),b=t.formatResult(d,v,o,c.opts.escapeMarkup),b!==n&&v.html(b),g.append(v),m&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),r(d.children,y,l+1),g.append(y)),g.data("select2-data",d),i.append(g)})(i,s,0)}},e.fn.select2.defaults,t),"function"!=typeof t.id&&(o=t.id,t.id=function(e){return e[o]}),e.isArray(t.element.data("select2Tags"))){if("tags"in t)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+t.element.attr("id");t.tags=t.element.data("select2Tags")}if(i?(t.query=this.bind(function(e){var t,i,o,r={results:[],more:!1},a=e.term;o=function(t,n){var s;t.is("option")?e.matcher(a,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(s=c.optionToData(t),t.children().each2(function(e,t){o(t,s.children)}),s.children.length>0&&n.push(s))},t=s.children(),this.getPlaceholder()!==n&&t.length>0&&(i=this.getPlaceholderOption(),i&&(t=t.not(i))),t.each2(function(e,t){o(t,r.results)}),e.callback(r)}),t.id=function(e){return e.id}):"query"in t||("ajax"in t?(l=t.element.data("ajax-url"),l&&l.length>0&&(t.ajax.url=l),t.query=C.call(t.element,t.ajax)):"data"in t?t.query=S(t.data):"tags"in t&&(t.query=k(t.tags),t.createSearchChoice===n&&(t.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),t.initSelection===n&&(t.initSelection=function(n,s){var i=[];e(a(n.val(),t.separator)).each(function(){var n={id:this,text:this},s=t.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){return r(this.id,n.id)?(n=this,!1):void 0}),i.push(n)}),s(i)}))),"function"!=typeof t.query)throw"query function not defined for Select2 "+t.element.attr("id");return t},monitorSource:function(){var e,t,s=this.opts.element;s.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=s.prop("disabled");e===n&&(e=!1),this.enable(!e);var t=s.prop("readonly");t===n&&(t=!1),this.readonly(t),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass))}),s.on("propertychange.select2",e),this.mutationCallback===n&&(this.mutationCallback=function(t){t.forEach(e)}),t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,t!==n&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new t(this.mutationCallback),this.propertyObserver.observe(s.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===n&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===n&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,s,i,o,r=this.dropdown,a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=r.outerHeight(!1),h=e(window),d=h.width(),p=h.height(),f=h.scrollLeft()+d,m=h.scrollTop()+p,g=a.top+l,v=a.left,y=m>=g+u,b=a.top-u>=this.body().scrollTop(),w=r.outerWidth(!1),_=f>=v+w,C=r.hasClass("select2-drop-above");C?(n=!0,!b&&y&&(s=!0,n=!1)):(n=!1,!y&&b&&(s=!0,n=!0)),s&&(r.hide(),a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=r.outerHeight(!1),f=h.scrollLeft()+d,m=h.scrollTop()+p,g=a.top+l,v=a.left,w=r.outerWidth(!1),_=f>=v+w,r.show()),this.opts.dropdownAutoWidth?(o=e(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),w=r.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:U.width),w>c?c=w:w=c,_=f>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),g-=t.top,v-=t.left),_||(v-=v+w-f),i={left:v,width:c},n?(i.top=a.top-u,i.bottom="auto",this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above")):(i.top=g,i.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),i=e.extend(i,E(this.opts.dropdownCss)),r.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,s="scroll."+n,i="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,s=e("#select2-drop");s.length>0&&(n=s.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+s+" "+o,function(e){r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,s="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(s).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,s,i,o,r,a,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),s=e(t[n]),i=s.offset().top+s.outerHeight(!0),n===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(i=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),i>o&&l.scrollTop(l.scrollTop()+(i-o)),r=s.offset().top-l.offset().top,0>r&&"none"!=s.css("display")&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),s=this.highlight();s>-1&&s<n.length;){s+=t;var i=e(n[s]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(s);break}}},highlight:function(t){var n,s,o=this.findHighlightableChoices();return 0===arguments.length?i(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),n=e(o[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),s=n.data("select2-data"),void(s&&this.opts.element.trigger({type:"select2-highlight",val:this.id(s),choice:s})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var s=this.findHighlightableChoices();this.highlight(s.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),s=this.resultsPage+1,i=this,o=this.search.val(),r=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:s,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:o,page:s,context:r}),i.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(i.opts.formatLoadMore(s+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=s,i.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(t){function s(){c.removeClass("select2-active"),d.positionDropdown()}function i(e){u.html(e),s()}var o,a,l,c=this.search,u=this.results,h=this.opts,d=this,p=c.val(),f=e.data(this.container,"select2-last-term");if((t===!0||!f||!r(p,f))&&(e.data(this.container,"select2-last-term",p),t===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),e.isArray(o)&&o.length>=m&&x(h.formatSelectionTooBig,"formatSelectionTooBig")))return void i("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(m)+"</li>");if(c.val().length<h.minimumInputLength)return i(x(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+h.formatInputTooShort(c.val(),h.minimumInputLength)+"</li>":""),void(t&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return void i(x(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+h.formatInputTooLong(c.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+h.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=n&&null!=a&&c.val(a),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(o){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");
if(this.context=o.context===n?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(d,c.val(),o.results),a!==n&&null!==a&&d.id(a)!==n&&null!==d.id(a)&&0===e(o.results).filter(function(){return r(d.id(this),d.id(a))}).length&&o.results.unshift(a)),0===o.results.length&&x(h.formatNoMatches,"formatNoMatches"))return void i("<li class='select2-no-results'>"+h.formatNoMatches(c.val())+"</li>");u.empty(),d.opts.populateResults.call(this,u,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&x(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,t),s(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),s=n.closest(".select2-result").data("select2-data");s?(this.highlight(t),this.onSelect(s,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==n?e.text():n)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==n)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function t(){var t,s,i,o,r,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(t=this.opts.element.attr("style"),t!==n)for(s=t.split(";"),o=0,r=s.length;r>o;o+=1)if(a=s[o].replace(/\s/g,""),i=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(t=this.opts.element.css("width"),t.indexOf("%")>0?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=t.call(this);null!==s&&this.container.css("width",s)}}),I=D(A,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' title='Search field' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,s,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),t=this.search.get(0),t.createTextRange?(s=t.createTextRange(),s.collapse(!1),s.select()):t.setSelectionRange&&(i=this.search.val().length,t.setSelectionRange(i,i)),""===this.search.val()&&this.nextSearchTerm!=n&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n,s=this.container,i=this.dropdown,o=j();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),n=e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===M.PAGE_UP||e.which===M.PAGE_DOWN)return void g(e);switch(e.which){case M.UP:case M.DOWN:return this.moveHighlight(e.which===M.UP?-1:1),void g(e);case M.ENTER:return this.selectHighlighted(),void g(e);case M.TAB:return void this.selectHighlighted({noFocus:!0});case M.ESC:return this.cancel(e),void g(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==M.TAB&&!M.isControl(e)&&!M.isFunctionKey(e)&&e.which!==M.ESC){if(this.opts.openOnEnter===!1&&e.which===M.ENTER)return void g(e);if(e.which==M.DOWN||e.which==M.UP||e.which==M.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==M.DELETE||e.which==M.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),v(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(t)})),i.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var s=e.Event("select2-clearing");if(this.opts.element.trigger(s),s.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==n&&null!==t&&(e.updateSelection(t),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==n&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===n||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var s=e.find("option").filter(function(){return this.selected});t(n.optionToData(s))}:"data"in t&&(t.initSelection=t.initSelection||function(n,s){var i=n.val(),o=null;t.query({matcher:function(e,n,s){var a=r(i,t.id(s));return a&&(o=s),a},callback:e.isFunction(s)?function(){s(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===n?n:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==n){if(this.select&&this.getPlaceholderOption()===n)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var s=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){return r(i.id(t.data("select2-data")),i.opts.element.val())?(s=e,!1):void 0}),n!==!1&&(t===!0&&s>=0?this.highlight(s):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(T(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),s=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),r(n,this.id(e))||this.triggerChange({added:e,removed:s})}},updateSelection:function(e){var t,s,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(t=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),t!==n&&i.append(t),s=this.opts.formatSelectionCssClass(e,i),s!==n&&i.addClass(s),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==n&&this.container.addClass("select2-allowclear")},val:function(){var e,t=!1,s=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(t=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return s=i.optionToData(t),!1}),this.updateSelection(s),this.setPlaceholder(),t&&this.triggerChange({added:s,removed:o});else{if(!e&&0!==e)return void this.clear(t);if(this.opts.initSelection===n)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),t&&i.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var t,s=!1;return 0===arguments.length?(t=this.selection.data("select2-data"),t==n&&(t=null),t):(arguments.length>1&&(s=arguments[1]),void(e?(t=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),s&&this.triggerChange({added:e,removed:t})):this.clear(s)))}}),P=D(A,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var s=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){s.push(n.optionToData(t))}),t(s)}:"data"in t&&(t.initSelection=t.initSelection||function(n,s){var i=a(n.val(),t.separator),o=[];t.query({matcher:function(n,s,a){var l=e.grep(i,function(e){return r(e,t.id(a))}).length;return l&&o.push(a),l},callback:e.isFunction(s)?function(){for(var e=[],n=0;n<i.length;n++)for(var a=i[n],l=0;l<o.length;l++){var c=o[l];if(r(a,t.id(c))){e.push(c),o.splice(l,1);break}}s(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var s=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){s.search[0].focus(),s.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+j()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),s=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),o=m(this.search);if(n.length&&(e.which==M.LEFT||e.which==M.RIGHT||e.which==M.BACKSPACE||e.which==M.DELETE||e.which==M.ENTER)){var r=n;return e.which==M.LEFT&&s.length?r=s:e.which==M.RIGHT?r=i.length?i:null:e.which===M.BACKSPACE?(this.unselect(n.first()),this.search.width(10),r=s.length?s:i):e.which==M.DELETE?(this.unselect(n.first()),this.search.width(10),r=i.length?i:null):e.which==M.ENTER&&(r=null),this.selectChoice(r),g(e),void(r&&r.length||this.open())}if((e.which===M.BACKSPACE&&1==this.keydowns||e.which==M.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case M.UP:case M.DOWN:return this.moveHighlight(e.which===M.UP?-1:1),void g(e);case M.ENTER:return this.selectHighlighted(),void g(e);case M.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case M.ESC:return this.cancel(e),void g(e)}if(e.which!==M.TAB&&!M.isControl(e)&&!M.isFunctionKey(e)&&e.which!==M.BACKSPACE&&e.which!==M.ESC){if(e.which===M.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==M.PAGE_UP&&e.which!==M.PAGE_DOWN||g(e),e.which===M.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==n&&null!==t&&(e.updateSelection(t),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),t=this.getMaxSearchWidth();e!==n&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(t>0?t:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],s=[],o=this;e(t).each(function(){i(o.id(this),n)<0&&(n.push(o.id(this)),s.push(this))}),t=s,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=n&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var s,i,o=!t.locked,r=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?r:a,c=this.id(t),u=this.getVal();s=this.opts.formatSelection(t,l.find("div"),this.opts.escapeMarkup),s!=n&&l.find("div").replaceWith("<div>"+s+"</div>"),i=this.opts.formatSelectionCssClass(t,l.find("div")),i!=n&&l.addClass(i),o&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),g(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",t),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,s,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){for(;(s=i(this.id(n),o))>=0;)o.splice(s,1),this.setVal(o),this.select&&this.postprocessResults();var r=e.Event("select2-removing");r.val=this.id(n),r.choice=n,this.opts.element.trigger(r),r.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(e,t,n){var s=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){var n=a.id(t.data("select2-data"));i(n,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&x(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,n,s,i,o=l(this.search);e=y(this.search)+10,t=this.search.offset().left,n=this.selection.width(),s=this.selection.offset().left,i=n-(t-s)-o,e>i&&(i=n-o),40>i&&(i=n-o),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var s=0;s<e.length;s++)r(this.opts.id(t[n]),this.opts.id(e[s]))&&(t.splice(n,1),n>0&&n--,e.splice(s,1),s--);return{added:t,removed:e}},val:function(t,s){var i,o=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!t&&0!==t)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(s&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(t),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),s&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===n)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),s&&o.triggerChange(o.buildChangeDetails(i,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var s,i,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),s=e.map(t,function(e){return o.opts.id(e)}),this.setVal(s),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),e.fn.select2=function(){var t,s,o,r,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])t=0===l.length?{}:e.extend({},l[0]),t.element=e(this),"select"===t.element.get(0).tagName.toLowerCase()?a=t.element.prop("multiple"):(a=t.multiple||!1,"tags"in t&&(t.multiple=a=!0)),s=a?new P:new I,s.init(t);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(i(l[0],c)<0)throw"Unknown method: "+l[0];if(r=n,s=e(this).data("select2"),s===n)return;if(o=l[0],"container"===o?r=s.container:"dropdown"===o?r=s.dropdown:(d[o]&&(o=d[o]),r=s[o].apply(s,l.slice(1))),i(l[0],u)>=0||i(l[0],h)&&1==l.length)return!1}}),r===n?this:r},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,s){var i=[];return w(e.text,n.term,i,s),i.join("")},formatSelection:function(e,t,s){return e?s(e.text):n},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,t){return n},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return s(""+t).toUpperCase().indexOf(s(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:O,escapeMarkup:_,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,t){return n}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},t.exports={query:{ajax:C,local:S,tags:k},util:{debounce:h,markMatch:w,escapeMarkup:_,stripDiacritics:s},"class":{"abstract":A,single:I,multi:P}}}}(jQuery)},{}],"/opt/seelio/node_modules/templates/search/universal_search_result.js":[function(e,t,n){var s=e("jade");t.exports=function(e){var t,n=[],i={},o=e||{};return function(e){i.universal_search_result=function(e){this&&this.block,this&&this.attributes||{};n.push('<div class="universal-search-result"><div'+s.attr("style","background-image: url('"+e.photo+"')",!0,!1)+' class="universal-search-result-photo pull-left"></div><div class="universal-search-result-description"><div class="universal-search-result-title">'+s.escape(null==(t=e.title)?"":t)+'</div><div class="universal-search-result-blurb muted">'+s.escape(null==(t=e.description)?"":t)+"</div></div></div>")},i.universal_search_result(e)}.call(this,"data"in o?o.data:"undefined"!=typeof data?data:void 0),n.join("")}},{jade:"jade"}],"/opt/seelio/node_modules/templates/users/autocomplete_input.js":[function(e,t,n){var s=e("jade");t.exports=function(e){var t=[],n={},i=e||{};return function(e,i,o){n.user_autocomplete_input=function(n){this&&this.block,this&&this.attributes||{};"undefined"==typeof n&&(n={}),t.push('<div class="user-autocomplete-input"><input title="Type names here" type="hidden"'+s.attr("placeholder",null!=n.placeholder?n.placeholder:"Type names or emails of new & existing users here... ",!0,!1)+s.attr("name",n.name,!0,!1)+s.attr("value",n.initSelection?e(i.stringify(n.initSelection)):"",!0,!1)+"/></div>")},n.user_autocomplete_input(o)}.call(this,"encodeURIComponent"in i?i.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"JSON"in i?i.JSON:"undefined"!=typeof JSON?JSON:void 0,"options"in i?i.options:"undefined"!=typeof options?options:void 0),t.join("")}},{jade:"jade"}],"/opt/seelio/node_modules/templates/users/invite_modal.js":[function(e,t,n){e("jade");t.exports=function(e){var t=[],n={};return n.user_invite_modal=function(){this&&this.block,this&&this.attributes||{};t.push('<div id="user-invite-modal" role="dialog" aria-labelledby="Invite People to Collaborate" class="modal fade"><div class="modal-dialog"><div class="modal-content"><form class="work-editor-invite-modal-form"><div class="modal-header"><h3>Invite People to Collaborate</h3></div><div class="modal-body"><p>Enter your friends\' emails to send out an invite. Once they complete the registration process, \nthey will automatically be added as a collaborator to this work.</p><input title="enter email" type="email" placeholder="email@example.com" name="email" class="form-control"/><input title="enter email" type="email" placeholder="email@example.com" name="email" class="form-control"/><input title="enter email" type="email" placeholder="email@example.com" name="email" class="form-control"/><input title="enter email" type="email" placeholder="email@example.com" name="email" class="form-control"/><a href="#" class="user-invite-add-another">+ Add Another</a></div><div class="modal-footer"><a href="#" data-dismiss="modal" class="pull-left btn btn-default">Close</a><input title="submit button" type="Submit" value="Invite" name="Invite" class="pull-right btn btn-primary"/></div></form></div></div></div>')},n.user_invite_modal(),t.join("")}},{jade:"jade"}],"/opt/seelio/node_modules/templates/users/message_composer.js":[function(e,t,n){var s=e("jade");t.exports=function(e){var t,n=[],i={},o=e||{};return function(e,o,r,a,l){i.user_autocomplete_input=function(t){this&&this.block,this&&this.attributes||{};"undefined"==typeof t&&(t={}),n.push('<div class="user-autocomplete-input"><input title="Type names here" type="hidden"'+s.attr("placeholder",null!=t.placeholder?t.placeholder:"Type names or emails of new & existing users here... ",!0,!1)+s.attr("name",t.name,!0,!1)+s.attr("value",t.initSelection?e(o.stringify(t.initSelection)):"",!0,!1)+"/></div>")},i.message_composer_attachment=function(e,i){this&&this.block,this&&this.attributes||{};i=null!=i?i:{},n.push("<div"+s.cls(["message-composer-attachment",i.type?"message-composer-attachment-"+i.type:""],[null,!0])+">"),"work"==i.type&&(n.push("<img"+s.attr("src",e.cover&&e.cover.thumbs?e.cover.thumbs.s:r("/img/placeholder-gen.jpg"),!0,!1)+' alt="" class="message-composer-attachment-img"/><span class="message-composer-attachment-title">'+s.escape(null==(t=e.title)?"":t)+'</span><input title="input work" name="_work" type="hidden"'+s.attr("value",e.id||e._id.toString(),!0,!1)+"/>"),i.removable&&n.push('<span class="close pull-right">&times;</span>')),n.push("</div>")},i.message_composer=function(e){this&&this.block,this&&this.attributes||{};"undefined"==typeof e&&(e={}),n.push('<div class="message-composer"><form class="message-composer-form"><div class="combined-input"><div class="message-composer-to">'),
"undefined"==typeof e._group?i.user_autocomplete_input({multiple:!0,placeholder:!1,name:"recipients",initSelection:e.to}):n.push('<input title="input group" hidden="true" name="_group" placeholder="To" type="text"'+s.attr("value",e._group,!0,!1)+'/><input title="input recipients" hidden="true" name="recipients" placeholder="to" type="text" value="[]"/><div class="group-text">'+s.escape(null==(t=e.groupName)?"":t)+"</div><hr/>"),n.push('</div><input title="message subject" name="subject" placeholder="Subject" type="text"'+s.attr("value",e.subject?e.subject:e.work?e.work.title:a,!0,!1)+' class="message-composer-message-subject combined-input-dotted"/><div class="message-composer-message-body-container textarea resize-y"><textarea name="message" type="text" placeholder="Write your message here..." class="message-composer-message-body">'),e.message&&n.push(s.escape(null==(t=e.message)?"":t)),n.push('</textarea><ul class="message-composer-attachments">'),null!=e.attachments&&function(){var t=e.attachments;if("number"==typeof t.length)for(var s=0,o=t.length;o>s;s++){var r=t[s];n.push('<li class="message-composer-attachments-li message-composer-attachments-li-work">'),i.message_composer_attachment(r.object,r),n.push("</li>")}else{var o=0;for(var s in t){o++;var r=t[s];n.push('<li class="message-composer-attachments-li message-composer-attachments-li-work">'),i.message_composer_attachment(r.object,r),n.push("</li>")}}}.call(this),n.push('</ul></div></div><div id="message-composer-recaptcha"></div>'),e.displaySendButton&&i.message_composer_send({"class":"pull-right"}),n.push('</form><div class="clearfix"></div></div>')},i.message_composer_send=function(e){this&&this.block,this&&this.attributes||{};"undefined"==typeof e&&(e={}),n.push('<button type="submit" name="Send Message" data-kine-element="send-message"'+s.cls(["btn","btn-primary","message-composer-submit",e["class"]],[null,null,null,!0])+">Send Message</button>")},i.message_composer(l)}.call(this,"encodeURIComponent"in o?o.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"JSON"in o?o.JSON:"undefined"!=typeof JSON?JSON:void 0,"assetPath"in o?o.assetPath:"undefined"!=typeof assetPath?assetPath:void 0,"undefined"in o?o.undefined:void 0,"options"in o?o.options:"undefined"!=typeof options?options:void 0),n.join("")}},{jade:"jade"}],"/opt/seelio/node_modules/templates/users/message_composer_modal.js":[function(e,t,n){var s=e("jade");t.exports=function(e){var t,n=[],i={},o=e||{};return function(e,o,r,a,l){i.user_autocomplete_input=function(t){this&&this.block,this&&this.attributes||{};"undefined"==typeof t&&(t={}),n.push('<div class="user-autocomplete-input"><input title="Type names here" type="hidden"'+s.attr("placeholder",null!=t.placeholder?t.placeholder:"Type names or emails of new & existing users here... ",!0,!1)+s.attr("name",t.name,!0,!1)+s.attr("value",t.initSelection?e(o.stringify(t.initSelection)):"",!0,!1)+"/></div>")},i.message_composer_attachment=function(e,i){this&&this.block,this&&this.attributes||{};i=null!=i?i:{},n.push("<div"+s.cls(["message-composer-attachment",i.type?"message-composer-attachment-"+i.type:""],[null,!0])+">"),"work"==i.type&&(n.push("<img"+s.attr("src",e.cover&&e.cover.thumbs?e.cover.thumbs.s:r("/img/placeholder-gen.jpg"),!0,!1)+' alt="" class="message-composer-attachment-img"/><span class="message-composer-attachment-title">'+s.escape(null==(t=e.title)?"":t)+'</span><input title="input work" name="_work" type="hidden"'+s.attr("value",e.id||e._id.toString(),!0,!1)+"/>"),i.removable&&n.push('<span class="close pull-right">&times;</span>')),n.push("</div>")},i.message_composer=function(e){this&&this.block,this&&this.attributes||{};"undefined"==typeof e&&(e={}),n.push('<div class="message-composer"><form class="message-composer-form"><div class="combined-input"><div class="message-composer-to">'),"undefined"==typeof e._group?i.user_autocomplete_input({multiple:!0,placeholder:!1,name:"recipients",initSelection:e.to}):n.push('<input title="input group" hidden="true" name="_group" placeholder="To" type="text"'+s.attr("value",e._group,!0,!1)+'/><input title="input recipients" hidden="true" name="recipients" placeholder="to" type="text" value="[]"/><div class="group-text">'+s.escape(null==(t=e.groupName)?"":t)+"</div><hr/>"),n.push('</div><input title="message subject" name="subject" placeholder="Subject" type="text"'+s.attr("value",e.subject?e.subject:e.work?e.work.title:a,!0,!1)+' class="message-composer-message-subject combined-input-dotted"/><div class="message-composer-message-body-container textarea resize-y"><textarea name="message" type="text" placeholder="Write your message here..." class="message-composer-message-body">'),e.message&&n.push(s.escape(null==(t=e.message)?"":t)),n.push('</textarea><ul class="message-composer-attachments">'),null!=e.attachments&&function(){var t=e.attachments;if("number"==typeof t.length)for(var s=0,o=t.length;o>s;s++){var r=t[s];n.push('<li class="message-composer-attachments-li message-composer-attachments-li-work">'),i.message_composer_attachment(r.object,r),n.push("</li>")}else{var o=0;for(var s in t){o++;var r=t[s];n.push('<li class="message-composer-attachments-li message-composer-attachments-li-work">'),i.message_composer_attachment(r.object,r),n.push("</li>")}}}.call(this),n.push('</ul></div></div><div id="message-composer-recaptcha"></div>'),e.displaySendButton&&i.message_composer_send({"class":"pull-right"}),n.push('</form><div class="clearfix"></div></div>')},i.message_composer_send=function(e){this&&this.block,this&&this.attributes||{};"undefined"==typeof e&&(e={}),n.push('<button type="submit" name="Send Message"'+s.cls(["btn","btn-primary","message-composer-submit",e["class"]],[null,null,null,!0])+">Send Message</button>")},i.message_composer_modal=function(e){this&&this.block,this&&this.attributes||{};"undefined"==typeof e&&(e={}),n.push('<div class="modal message-composer-modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h3>Compose New Message<span data-dismiss="modal" class="pull-right close">&times;</span></h3></div><div class="modal-body"><div class="message-composer-modal-main">'),i.message_composer(e),n.push('</div></div><div class="modal-footer"><div class="pull-left"><a href="#" data-dismiss="modal" class="btn btn-default">Close</a></div><div class="pull-right">'),i.message_composer_send({"class":"message-composer-modal-send"}),n.push("</div></div></div></div></div>")},i.message_composer_modal(l)}.call(this,"encodeURIComponent"in o?o.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"JSON"in o?o.JSON:"undefined"!=typeof JSON?JSON:void 0,"assetPath"in o?o.assetPath:"undefined"!=typeof assetPath?assetPath:void 0,"undefined"in o?o.undefined:void 0,"options"in o?o.options:"undefined"!=typeof options?options:void 0),n.join("")}},{jade:"jade"}],"/opt/seelio/public_src/main/layout.coffee":[function(e,t,n){var s,i,o,r,a,l,c,u,h,d,p,f,m,g,v;window.$=window.jQuery=e("jquery"),g=e("underscore"),u=e("moment"),s=e("backbone"),r=e("mixins/statics/topbar"),o=e("mixins/users/message_composer_modal"),a=e("lib/seelio-flash"),c=e("lib/lytic"),h=e("lib/seelio-session"),p=e("lib/seelio-typeahead"),l=e("../../libs/googleAnalyticsDimensions"),f=e("templates/search/universal_search_result"),window.assetPath=null!=(v=window.assetPath)?v:function(e){return e},i=s.View.extend({events:{"click #message-nav-list .compose":"compose","click .nav-messages":"toggleMessages","click .nav-notifications":"toggleNotifications","click .notification-link":"clickNotificationLink",click:"clickHandler"},clickHandler:function(){return this.closeNotifications(),this.closeMessages()},compose:function(e){return e.stopPropagation(),this.messageComposerModal||(this.messageComposerModal=new o),this.messageComposerModal.show()},getQueryParameter:function(e){var t;return t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search),t&&decodeURIComponent(t[1].replace(/\+/g," "))},composeFromQueryString:function(){var e,t,n;if(e=this.getQueryParameter("action"),t=this.getQueryParameter("target"),(null!=(n=h.user())?n.id:void 0)&&("feedback"===e||"message"===e)&&t){this.messageComposerModal||(this.messageComposerModal=new o);try{return t=JSON.parse(t)}catch(s){return t=[]}finally{this.messageComposerModal.show({options:{to:t,_work:this.getQueryParameter("_work")||void 0}})}}},browser:function(){var e,t,n,s,i;return s=navigator.userAgent,n=void 0,e=s.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[],/trident/i.test(e[1])&&(n=/\brv[ :]+(\d+(\.\d+)?)/g.exec(s)||[],t="IE"),t=(null!=(i=e[1])?i.toLowerCase():void 0)||"",this.$el.addClass(t)},clickNotificationLink:function(e){return e.stopImmediatePropagation(),window.location.href=$(e.target).attr("href")},toggleMessages:function(e){return $("#message-nav-list").is(":visible")?this.closeMessages(e):(this.closeNotifications(e),this.openMessages(e))},toggleNotifications:function(e){return $("#notification-nav-list").is(":visible")?this.closeNotifications(e):(this.closeMessages(e),this.openNotifications(e))},openMessages:function(e){return e&&e.stopPropagation(),$("#layout-topbar .navbar-collapse").hasClass("in")&&$("#layout-topbar .navbar-collapse").collapse("hide"),$(".nav-messages").css({"z-index":2}),$(".nav-messages").parent().css({"background-color":"black"}),$("#message-nav-list").fadeIn(0),$(".nav-messages").addClass("selected")},closeMessages:function(e){return e&&e.stopPropagation(),$("#message-nav-list").fadeOut(0),$(".nav-messages").animate({top:0,right:0}),$(".nav-messages").parent().css({"background-color":"transparent"}),$(".nav-messages").removeClass("selected")},openNotifications:function(e){return e&&e.stopPropagation(),$("#layout-topbar .navbar-collapse").hasClass("in")&&$("#layout-topbar .navbar-collapse").collapse("hide"),$(".nav-notifications").css({"z-index":2,"border-right":0}),$(".nav-notifications").parent().css({"background-color":"black"}),$("#notification-nav-list").fadeIn(0),$(".nav-notifications").addClass("selected"),this.markNotificationsViewed()},closeNotifications:function(e){return e&&e.stopPropagation(),$(".nav-notifications").animate({top:0,left:0},function(){return $(".nav-notifications").css({"z-index":0,"border-right":""})}),$(".nav-notifications").parent().css({"background-color":"transparent"}),$("#notification-nav-list").fadeOut(0),$(".nav-notifications").removeClass("selected")},markNotificationsViewed:function(){return $.get("/markNotificationsViewed",function(e){return e.error?a.error(e.error):($(".nav-notifications").removeClass("alert"),$(".nav-notifications > span").text(""))})},setConvoNotificationUnreadCounts:function(){var e,t;return e=$("#message-nav-list .unread").length,t=$("#notification-nav-list .unread").length,e>0&&($(".nav-messages").addClass("alert"),$(".nav-messages > span").text(e)),t>0?($(".nav-notifications").addClass("alert"),$(".nav-notifications > span").text(t)):void 0},initializeConvoNotificationTimes:function(){return $("time.message-nav-list-time, time.conversation.nav-list-time").each(function(){return $(this).text(u($(this).attr("datetime")).fromNow())})},iPhoneModalHack:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(document).on("show.bs.modal",".modal",function(){return $(this).css({position:"absolute",marginTop:$(window).scrollTop()+"px",bottom:"auto"}),setTimeout(function(){return $(".modal-backdrop").css({position:"absolute",top:0,left:0,width:"100%",height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)+"px"})},500)}):void 0},bootstrapMultipleModals:function(){return $(document).on("show.bs.modal",".modal",function(){var e,t;return e=1040,$(".modal.in").each(function(){var t;return t=parseInt($(this).css("zIndex"),10),t>e?e=t:void 0}),t=e+1,setTimeout(function(){return $(".modal-backdrop").last().css({"z-index":t})},500),$(this).css({"z-index":t+1})})},initialize:function(){return this.initializeConvoNotificationTimes(),this.setConvoNotificationUnreadCounts(),this.browser(),this.iPhoneModalHack(),this.bootstrapMultipleModals(),this.showFlashMessages(),this.composeFromQueryString(),this.initializeAddWorkPopover(),this.setupkinesis(),$("#universal-search input").trigger("focus").on("ta.result",this.renderUniversalSearchResult.bind(this))},renderUniversalSearchResult:function(e,t,n){var s;return s=this.$("#"+t).html(f({data:n}))},initializeAddWorkPopover:function(){var e;return e=$.fn.popover.Constructor.prototype.leave,$.fn.popover.Constructor.prototype.leave=function(t){var n,s,i;return s=t instanceof this.constructor?t:$(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type),n=void 0,i=void 0,e.call(this,t),t.currentTarget?(n=$(t.currentTarget).siblings(".popover"),i=s.timeout,n.one("mouseenter",function(){return clearTimeout(i),n.one("mouseleave",function(){})}),$.fn.popover.Constructor.prototype.leave.call(s,s)):void 0},this.$("[data-toggle=popover]").popover({html:!0,trigger:"hover",delay:{show:50,hide:1500}})},setupkinesis:function(){return c.trackClicks(),$(document).on("click","[data-logger]",function(){var e,t;return e=$(this).data("logger"),"click"===(null!=e?e.event:void 0)?c.kineLog.log({_e_type_:"ClickEvent",common:{event_hierarchy:{page:e.page,section:e.section,component:e.component,element:e.element,action:null!=(t=e.action)?t:"CLICK"}}}):void 0})},showFlashMessages:function(){var e,t;if($("data#seelio-flash").length>0){t=decodeURI($("data#seelio-flash").attr("value"));try{t=JSON.parse(t)}catch(n){e=n,console.error(e)}return g.each(t,function(e,t){return g.each(e,function(e){return a[t](e)})})}}}),$("body").on("keyup",'[data-enter-click="true"]',function(e){var t;return 13===e.keyCode?(t=$(e.target).data("enter-click-url"),t?window.location.href=t:$(e.target).click()):void 0}),$(function(){var e;return e=new i({el:"#layout-bootstrap-3"})}),$(function(){var e;return $("#static-top-bar").length>0?e=new r({el:"#static-top-bar"}):void 0}),m=h.user(),null!=m._id&&c.identifyUser(m),c.on("beforePage",function(){return d()}),window.bypassDefaultPageTrack||c.callPageFromGlobals(),d=function(){var e;return"undefined"!=typeof ga&&null!==ga?(e=null!=m._id?m._id.toString():"",ga("set",l.USER_ID,""+e)):setTimeout(function(){return d()},5e3)},t.exports=i},{"../../libs/googleAnalyticsDimensions":"/opt/seelio/libs/googleAnalyticsDimensions.coffee",backbone:"backbone",jquery:"jquery","lib/lytic":"/opt/seelio/node_modules/lib/lytic.coffee","lib/seelio-flash":"/opt/seelio/node_modules/lib/seelio-flash.coffee","lib/seelio-session":"/opt/seelio/node_modules/lib/seelio-session.coffee","lib/seelio-typeahead":"/opt/seelio/node_modules/lib/seelio-typeahead.coffee","mixins/statics/topbar":"/opt/seelio/node_modules/mixins/statics/topbar.coffee","mixins/users/message_composer_modal":"/opt/seelio/node_modules/mixins/users/message_composer_modal.coffee",moment:"/opt/seelio/node_modules/moment/moment.js","templates/search/universal_search_result":"/opt/seelio/node_modules/templates/search/universal_search_result.js",underscore:"underscore"}]},{},["/opt/seelio/public_src/main/layout.coffee"]);